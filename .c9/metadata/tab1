{"filter":false,"title":"Immediate (Javascript (browser))","tooltip":"Immediate (Javascript (browser))","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":2,"column":19},"end":{"row":3,"column":0},"action":"insert","lines":["",""],"id":69},{"start":{"row":3,"column":0},"end":{"row":4,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":4,"column":0},"end":{"row":4,"column":48},"action":"insert","lines":["[{\"k\": \"d\", \"c\": \"a\"}, {\"k2\": \"d2\", \"c2\": \"a2\"}]"],"id":70}]]},"immediate":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":4,"column":0},"end":{"row":4,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0,"type":"jsbrowser","history":["require(underscore)","$(\"#vote\").submit(function(e) {\n        e.preventDefault();\n        var valid = true;\n        \n        for(var i = 0; i < #{candidates.length}; i++) {\n            if(!columnValid(i + 1)) {\n                valid = false;\n        }\n        \n        if(valid) {\n            $.post('/vote/vote/' + '#{election.id}', $('#vote').serialize())\n                .done(function(response) {\n                    bootbox.alert(response.message, function() {\n                        window.location.href = 'https://reddit.com/r/cmhoc';\n                    });\n                })\n                .fail(function(response) {\n                    bootbox.alert(response.error);\n                });\n        } else {\n            bootbox.alert(\"Only one vote per candidate and one vote per column please.\");\n        }\n    });","require('moment')","moment()","moment"],"pos":-1},"hash":"61c0680956c9d96cdc0b6d770fbd071cd05aff03"}